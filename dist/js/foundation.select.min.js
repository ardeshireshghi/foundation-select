!function(e){"use strict";class t{constructor(s,i){this.$select=s;if(!this.$select.is("select")){console.warn("The select can only be used on a <select> element.");return}this.options=e.extend({},t.defaults,this.$select.data(),i);this._init();Foundation.registerPlugin(this,"Select");Foundation.Keyboard.register("Select",{SPACE:"open",ESCAPE:"close",TAB:"tab",SHIFT_TAB:"tab",ARROW_UP:"select_up",ARROW_DOWN:"select_down"})}_init(){var t=Foundation.GetYoDigits(6,"select"),s=Foundation.GetYoDigits(6,"select-dropdown"),i=e(`label[for="${this.$select.attr("id")}"]`),n=e('<div class="select-wrapper">'),l=e('<div class="select-container">'),a=e("<div data-perfect-scrollbar>");this.$select.wrap(n);this.$select.after(l);this.$element=e(`<input type="text" id="${t}" data-toggle="${s}" readonly>`);l.append(this.$element);i.attr("for",t);this.$selectTriangle=e(`<i class="select-triangle fa ${this.options.iconClass}" data-toggle="${s}">`);l.append(this.$selectTriangle);this.$dropdown=e("<div>");this.$dropdown.attr({id:s,"class":"select-dropdown","data-dropdown":"","data-v-offset":0,"data-h-offset":0,"data-close-on-click":true});this.$dropdown.append(a);l.append(this.$dropdown);this.$list=e("<ul>");a.append(this.$list);this.$options=[];this.$autoSelect=false;this.$select.find("option").each(this._setOption.bind(this));this.$element.attr("placeholder",this.options.placeholder);l.foundation();this._events();if(this.$autoSelect!==false)this.$options[this.$autoSelect].find("a").trigger("click")}_setOption(t,s){var i=e(s).val(),n=e(s).text();if(i==""){this.options.placeholder=this.options.placeholder==""?n:this.options.placeholder;return}if(i==this.options.value||e(s).is(":selected"))this.$autoSelect=i;this.$options[i]=e(`<li><a data-value="${i}">${n}</a></li>`).appendTo(this.$list)}_events(){var t=this;this.$element.add(this.$dropdown).off("keybord.zf.dropdown").on("keydown.zf.select",function(e){Foundation.Keyboard.handleKey(e,"Select",{open:function(){if($target.is(t.$element)){t.$dropdown.trigger("open");t.$dropdown.attr("tabindex",-1).focus();e.preventDefault()}},select_down:function(){var s=t.$list.find("a.selected"),i;if(s.parent().is(":last-child"))return false;if(s.length>0){i=s.parent().next().find("a")}else{i=t.$list.find("li:first-child a")}t.$select.val(i.data("value"));t.$element.val(i.text());t.$list.find("li a").removeClass("selected");i.addClass("selected");e.preventDefault()},select_up:function(){var s=t.$list.find("a.selected"),i;if(s.parent().is(":first-child"))return false;if(s.length>0){i=s.parent().prev().find("a")}else{i=t.$list.find("li:last-child a")}t.$select.val(i.data("value"));t.$element.val(i.text());t.$list.find("li a").removeClass("selected");i.addClass("selected");e.preventDefault()},tab:function(){t.$dropdown.trigger("close")},close:function(){t.$dropdown.trigger("close");t.$element.focus()}})});e.each(this.$options,function(){var s=e(this).find("a");s.on("click",t.select.bind(t))})}select(t){t.preventDefault();var s=e(t.currentTarget);this.$select.val(s.data("value"));this.$element.val(s.text());this.$list.find("li a").removeClass("selected");s.addClass("selected");this.$dropdown.trigger("close");this.$element.focus()}destroy(){this.$wrapper.after(this.$select.detach());this.$wrapper.remove();Foundation.unregisterPlugin(this)}}t.defaults={iconClass:"fa fa-caret-down",placeholder:"",value:""},Foundation.plugin(t,"Select")}(jQuery);
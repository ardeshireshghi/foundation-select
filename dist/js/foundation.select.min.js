!function(e){"use strict";class t{constructor(s,i){this.$select=s;if(!this.$select.is("select")){console.warn("The select can only be used on a <select> element.");return}this.options=e.extend({},t.defaults,this.$select.data(),i);this._init();Foundation.registerPlugin(this,"Select");Foundation.Keyboard.register("Select",{SPACE:"open",ESCAPE:"close",TAB:"tab",SHIFT_TAB:"tab",ARROW_UP:"select_up",ARROW_DOWN:"select_down"})}_init(){var t=Foundation.GetYoDigits(6,"select"),s=Foundation.GetYoDigits(6,"select-dropdown"),i=e(`label[for="${this.$select.attr("id")}"]`),l=e('<div class="select-wrapper">'),n=e('<div class="select-container">'),a=e('<div class="select-dropdown-scroll-container" data-perfect-scrollbar>');this.$select.wrap(l);this.$select.after(n);this.$element=e("<input>");this.$element.attr({type:"text",id:t,readonly:"","data-toggle":s});n.append(this.$element);i.attr("id",t);this.$selectTriangle=e("<i>");this.$selectTriangle.attr({"class":"select-triangle fa fa-caret-down","data-toggle":s});n.append(this.$selectTriangle);this.$dropdown=e("<div>");this.$dropdown.attr({id:s,"class":"select-dropdown","data-dropdown":"","data-v-offset":0,"data-h-offset":0,"data-close-on-click":true});this.$dropdown.append(a);n.append(this.$dropdown);this.$list=e("<ul>");a.append(this.$list);this.$options=[];this.$autoSelect=false;this.$select.find("option").each(this._setOption.bind(this));this.$element.attr("placeholder",this.options.placeholder);n.foundation();this._events();if(this.$autoSelect!==false)this.$options[this.$autoSelect].trigger("click")}_setOption(t,s){if(e(s).val()==""){this.options.placeholder=this.options.placeholder==""?e(s).text():this.options.placeholder;return}if(e(s).val()==this.options.value||e(s).attr("selected"))this.$autoSelect=t;this.$options[t]=e(`<li><a data-value="${e(s).val()}">${e(s).text()}</a></li>`).appendTo(this.$list)}_events(){var t=this;this.$element.add(this.$dropdown).off("keybord.zf.dropdown").on("keydown.zf.select",function(e){Foundation.Keyboard.handleKey(e,"Select",{open:function(){if($target.is(t.$element)){t.$dropdown.trigger("open");t.$dropdown.attr("tabindex",-1).focus();e.preventDefault()}},select_down:function(){var s=t.$list.find("a.selected"),i;if(s.length>0&&!s.parent().is(":last-child")){i=s.parent().next().find("a")}else{i=t.$list.find("li:first-child a")}t.$select.val(i.data("value"));t.$element.val(i.text());t.$list.find("li a").removeClass("selected");i.addClass("selected");e.preventDefault()},select_up:function(){var s=t.$list.find("a.selected"),i;if(s.length>0&&!s.parent().is(":first-child")){i=s.parent().prev().find("a")}else{i=t.$list.find("li:last-child a")}t.$select.val(i.data("value"));t.$element.val(i.text());t.$list.find("li a").removeClass("selected");i.addClass("selected");e.preventDefault()},tab:function(){t.$dropdown.trigger("close")},close:function(){t.$dropdown.trigger("close");t.$element.focus()}})});e.each(this.$options,function(){var s=e(this).find("a");s.on("click",t.select.bind(t))})}destroy(){this.$wrapper.after(this.$select.detach());this.$wrapper.remove();Foundation.unregisterPlugin(this)}select(t){t.preventDefault();var s=e(t.currentTarget);this.$select.val(s.data("value"));this.$element.val(s.text());this.$list.find("li a").removeClass("selected");s.addClass("selected");this.$dropdown.trigger("close");this.$element.focus()}}t.defaults={vOffset:0,hOffset:0,positionClass:"bottom",closeOnClick:!0,placeholder:"",value:""},Foundation.plugin(t,"Select")}(jQuery);